<div th:fragment="mainPlayerBar">
    <footer id="now-playing-bar" class="fixed bottom-0 left-0 w-full p-4 flex items-center justify-between bg-gray-900 text-white z-30 shadow-lg">

        <!-- Song Info -->
        <div class="flex items-center w-1/3">
            <img th:src="${currentSong.album?.coverArtUrl != null ? currentSong.album.coverArtUrl : 'https://via.placeholder.com/64x64?text=Album'}" alt="Album Art" class="w-16 h-16 rounded-md mr-4">
            <div>
                <h4 class="font-semibold" th:text="${currentSong.title}" style="font-family: 'Poppins', sans-serif;">Tên bài hát</h4>
                <p class="text-sm text-gray-400" th:text="${currentSong.getArtists()}" style="font-family: 'Poppins', sans-serif;">Tên nghệ sĩ</p>
            </div>
            <i class="far fa-heart ml-4 text-gray-400 hover:text-purple-300 cursor-pointer"></i>
        </div>

        <!-- Audio Player -->
        <div class="flex flex-col items-center w-1/3">
            <audio controls autoplay class="w-full max-w-xs">
                <source th:src="${currentSong.songUrl}" type="audio/mpeg">
                Trình duyệt của bạn không hỗ trợ phát audio.
            </audio>

            <div class="flex items-center w-full mt-2 space-x-2">
                <span class="text-xs text-gray-400" style="font-family: 'Poppins', sans-serif;">0:00</span>
                <div class="w-full bg-gray-600 rounded-full h-1">
                    <div class="bg-white h-1 rounded-full" style="width: 45%"></div>
                </div>
                <span class="text-xs text-gray-400" style="font-family: 'Poppins', sans-serif;" th:text="${currentSong.durationSeconds + 's'}">3:45</span>
            </div>
        </div>

        <!-- Control Icons -->
        <div class="flex items-center justify-end w-1/3 space-x-4">
            <button class="text-gray-400 hover:text-purple-300"><i class="fas fa-microphone"></i></button>
            <button class="text-gray-400 hover:text-purple-300"><i class="fas fa-list"></i></button>
            <button class="text-gray-400 hover:text-purple-300"><i class="fas fa-volume-up"></i></button>
            <div class="w-24 bg-gray-600 rounded-full h-1">
                <div class="bg-white h-1 rounded-full" style="width: 80%"></div>
            </div>
        </div>
    </footer>
</div>